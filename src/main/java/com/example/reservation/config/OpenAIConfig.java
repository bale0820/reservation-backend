package com.example.reservation.config;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import com.openai.client.OpenAIClient;
import com.openai.client.okhttp.OpenAIOkHttpClient;

@Configuration
public class OpenAIConfig {
    @Bean
    public OpenAIClient openAIClient() {
        // 환경변수 OPENAI_API_KEY 를 자동으로 읽습니다.
        String key = System.getenv("OPENAI_API_KEY");
        System.out.println("할루");
        System.out.println("OPENAI_API_KEY prefix = " + (key != null ? key.substring(0, 6) : "NOT SET"));

        return OpenAIOkHttpClient.fromEnv();
    }
}
